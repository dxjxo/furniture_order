<?xml version="1.0"?>
<odoo>

        <!--销售环节 view inherte -->
        <record model="ir.ui.view" id="furniture_order_sale_form">
            <field name="name">销售环节</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <!--<field name="priority" eval="20"/>-->
            <!--<field name="groups_id" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>-->
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_draft']" position="after">
                    <button name="action_draft" states="cancel" type="object" string="Set to Quotation"/>
                     <button name="action_cl" states="sent,sale" type="object" string="测量" confirm="确认订单状态为测量?"/>
                    <button name="action_ct" states="cl" type="object" string="出图" confirm="确认订单状态为出图?"/>
                    <button name="action_confirm_plan" states="ct" type="object" string="确认方案" confirm="确认订单状态为确认方案?"/>
                    <button name="action_pay" states="confirm_plan" type="object" string="已付款" confirm="确认订单状态为已付款?"/>

            </xpath>
            </field>
        </record>




        <!--生产订单production saler.order view inherte -->
        <record model="ir.ui.view" id="furniture_order_no_invoce_state_tree">
            <field name="name">生产订单</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_tree"/>
            <field name="priority" eval="20"/>
            <!--<field name="groups_id" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>-->
            <field name="arch" type="xml">
                <xpath expr="//field[@name='invoice_status']" position='replace'>
                </xpath>
                 <xpath expr="//field[@name='state']" position='attributes'>
				    <attribute name="invisible">False</attribute>
                 </xpath>
            </field>
        </record>

         <record id="furnitrue_order_sale_order" model="ir.actions.act_window">
            <field name="name"> 销售环节</field>
            <field name="res_model">sale.order</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="sale.view_order_tree"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                ...销售环节的订单...
              </p>
            </field>
        </record>



        <record id="furnitrue_order_production_order" model="ir.actions.act_window">
            <field name="name">生产订单</field>
            <field name="res_model">sale.order</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="furniture_order_no_invoce_state_tree"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                ...进入生产状态的订单...
              </p>
            </field>
        </record>

     <record id="furniture_action_customer_tree_view" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="sale.view_order_tree"/>
            <field name="act_window_id" ref="furnitrue_order_sale_order"/>
        </record>
    <record id="furniture_action_customer_form_view" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="furniture_order_sale_form"/>
            <field name="act_window_id" ref="furnitrue_order_sale_order"/>
        </record>


        <!--<record id="sunpop_action_customer_form_view2" model="ir.actions.act_window.view">-->
            <!--<field name="sequence" eval="2"/>-->
            <!--<field name="view_mode">tree</field>-->
            <!--<field name="view_id" ref="felive_view_partner_customer_tree"/>-->
            <!--<field name="act_window_id" ref="felive_action_partner_customer_form"/>-->
        <!--</record>-->



<menuitem id="furniture_order_sale_menu" name="销售" parent="sale.sale_menu_root" sequence="2"/>
<menuitem id="furniture_order_sale" name="订单" action="furnitrue_order_sale_order" parent="furniture_order_sale_menu" sequence="1"/>

<menuitem id="furniture_order_production_order_menu" name="生产" parent="sale.sale_menu_root" sequence="2"/>
<menuitem id="furniture_order_production_order" name="生产订单" action="furnitrue_order_production_order" parent="furniture_order_production_order_menu" sequence="1"/>


</odoo>
